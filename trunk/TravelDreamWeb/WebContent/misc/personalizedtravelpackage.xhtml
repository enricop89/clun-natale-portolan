<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<h:form>
	<p:growl id="growl" showDetail="true" globalOnly="true" /> 
		<h:panelGrid columns="5" id="regGrid">
			<h:outputLabel value="" />  
			<h:outputLabel value="" />  
			<p:inplace id="name" editor="true">
				<p:inputText value="#{TravelPackagePage.persTP.name}" />
			</p:inplace>  
			<p:message for="name" />
			<h:outputLabel value="" /> 
			<p:inplace id="Departure_date" editor="true">
				<p:calendar value="#{TravelPackagePage.persTP.departureDate}" showButtonPanel="true" />
			</p:inplace> 
			<p:message for="Departure_date" /> 
			<h:outputLabel value="" />  
			<p:inplace id="Arrival_date" editor="true">
			<p:calendar value="#{TravelPackagePage.persTP.returnDate}" showButtonPanel="true" />
			</p:inplace> 
			<p:message for="Arrival_date" />
		</h:panelGrid>
		
		<p:dataTable var="element" value="#{PersonalizedTravelPackageWeb.persTP.travelComponents}" >  
	            <p:column headerText="Type">  
	                <h:outputText value="#{element.travelComponent.type}" />  
	            </p:column>  
				<p:column headerText="Supplyng company">  
	                <h:outputText value="#{element.travelComponent.supplyingCompany}" />  
	            </p:column>  
	           
	           <p:column headerText="Status" style="text-align: center">
					<p:graphicImage id="Confirm" value="/resources/images/confirmed.png" style="float:center" rendered="#{PersonalizedTravelPackageWeb.checkStatus(element)}" />
					<p:tooltip for="Confirm" value="The package is confirmed" showEffect="fade" hideEffect="fade" /> 
				 	<p:graphicImage id="Unconfirm" value="/resources/images/unconfirmed.png" style="float:center" rendered="#{PersonalizedTravelPackageWeb.checkStatus(element)==false}" />
					<p:tooltip for="Unconfirm" value="The package is unconfirmed" showEffect="fade" hideEffect="fade" /> 
					</p:column>
					
						<p:column headerText="" style="text-align: center"> 
	      			<h:panelGroup style="white-space: nowrap">
	      			<h:panelGrid columns="2" > 
	      				<p:commandButton id="visualize" icon="ui-icon-script"  actionListener="#{PersonalizedTravelPackageWeb.showComponent(element)}"/> 
	         			<p:commandButton id="delete" icon="ui-icon-trash" update="growl1"   action="#{PersonalizedTravelPackageWeb.deletePackage(element)}"	ajax="false"/> 
	            	</h:panelGrid>
	            	</h:panelGroup>
	            	<p:tooltip for="delete" value="Delete the package" showEffect="fade" hideEffect="fade" /> 
	            	
	            	<p:tooltip for="visualize" value="View the details of the package" showEffect="fade" hideEffect="fade" />   
	         	
				</p:column> 
				<p:commandButton value="Save" update="growl"
				action="#{PersonalizedTravelPackageWeb.save}" />
				
	</p:dataTable>
	</h:form>
</ui:composition>
	