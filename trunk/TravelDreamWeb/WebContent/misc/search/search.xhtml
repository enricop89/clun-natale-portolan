<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Search form</title>  
</h:head>
<h:body>
<h:form>  
	<p:tabView id="tabView" >
	    <p:tab id="predefinedTravelPackages" title="Predefined Travel Packages">  
	    <p:growl id="packagesGrowl" showDetail="true" globalOnly="true" /> 
	    <p:panel header="Search Predefined Travel Packages">   
		    <h:panelGrid columns="2">  
			 	<h:outputLabel for="name">Name (even only a part of it):</h:outputLabel>
            	<p:inputText id="name" value="#{SearchWeb.packageName}" /> 	
            	
 			 	<h:outputLabel for="departureDate">Departure Date:</h:outputLabel>           	
            	<p:calendar value="#{SearchWeb.departureDate}" id="departureDate" showButtonPanel="true"/>  

			 	<h:outputLabel for="returnDate">Return Date:</h:outputLabel>            	
            	<p:calendar value="#{SearchWeb.returnDate}" id="returnDate" showButtonPanel="true"/> 
            							
			</h:panelGrid> 
			<p:commandButton value="Search" icon="ui-icon-search" action="#{SearchWeb.searchPredefinedTravelPackages}" update="packagesGrowl" ajax="true" styleClass="ui-priority-primary">  			       		
				<p:ajax event="dialogReturn" listener="#{SearchWeb.onPredefinedTravelPackageChosen}"/> 
			</p:commandButton> 	       		
	       	<p:commandButton value="Browse All" icon="ui-icon-search" action="#{SearchWeb.browseAllPredefinedTravelPackages}" update="packagesGrowl" ajax="true">
				<p:ajax event="dialogReturn" listener="#{SearchWeb.onPredefinedTravelPackageChosen}"/> 
			</p:commandButton>  
	    </p:panel>
	    </p:tab>  
	  
	    <p:tab id="Customers" title="Customers" rendered="#{facesContext.externalContext.isUserInRole('CUSTOMER')}">
	    <p:growl id="customersGrowl" showDetail="true" globalOnly="true" /> 	
	    <p:panel header="Search Customers">   	          
		    <h:panelGrid columns="2">    
			 	<h:outputLabel for="firstname">Firstname:</h:outputLabel>
            	<p:inputText id="firstname" value="#{SearchWeb.firstName}"/> 				 
			 	<h:outputLabel for="lastname">Lastame:</h:outputLabel>
            	<p:inputText id="lastname" value="#{SearchWeb.lastName}" /> 									  		       		 			       				       					       		
			</h:panelGrid>
			<p:commandButton value="Search" icon="ui-icon-search" action="#{SearchWeb.searchCustomers}" update="customersGrowl" ajax="true" styleClass="ui-priority-primary">
				<p:ajax event="dialogReturn" listener="#{SearchWeb.onCustomerChosen}"/> 
			</p:commandButton>  				 
	    </p:panel>	  
	    </p:tab>  
	  
	    <p:tab id="TravelComponents" title="Travel Components" rendered="#{facesContext.externalContext.isUserInRole('EMPLOYEE')}">
	    <p:growl id="componentsGrowl" showDetail="true" globalOnly="true" />   
	    <p:panel header="Search Travel Components">   
	    	<p:tabView id="travelComponents">
	    	<p:ajax event="tabChange" listener="#{SearchWeb.tabChangeListener}"/>
			    <p:tab id="flights" title="Flights">
				    <p:panel header="Define search criteria">   	    
					    <h:panelGrid columns="2">  
					 	<h:outputLabel for="flightSupplyingCompany">Supplying Company:</h:outputLabel>
		            	<p:inputText id="flightSupplyingCompany" value="#{SearchWeb.flightSupplyingCompany}"/>						  
					 	<h:outputLabel for="flightCode">Flight Code:</h:outputLabel>
		            	<p:inputText id="flightCode" value="#{SearchWeb.searchCriteria.flightCode}"/>						
					 	<h:outputLabel for="flightDepartureCity">Departure City:</h:outputLabel>
		            	<p:inputText id="flightDepartureCity" value="#{SearchWeb.searchCriteria.flightDepartureCity}"/>	
					 	<h:outputLabel for="flightArrivalCity">Arrival City:</h:outputLabel>
		            	<p:inputText id="flightArrivalCity" value="#{SearchWeb.searchCriteria.flightArrivalCity}"/>	
		 			 	<h:outputLabel for="flightDepartureDateTime">Departure Date and Time:</h:outputLabel>           	
		            	<p:calendar value="#{SearchWeb.flightDepartureDateTime}" id="flightDepartureDateTime" showButtonPanel="true" pattern="MM/dd/yyyy HH:mm"/>  
					 	<h:outputLabel for="flightArrivalDateTime">Arrival Date and Time:</h:outputLabel>            	
		            	<p:calendar value="#{SearchWeb.flightArrivalDateTime}" id="flightArrivalDateTime" showButtonPanel="true" pattern="MM/dd/yyyy HH:mm"/> 					
						</h:panelGrid>	        
			 		</p:panel>
			    </p:tab> 
			    <p:tab id="hotels" title="Hotels">
				    <p:panel header="Define search criteria">   	    
					    <h:panelGrid columns="2">  
					 	<h:outputLabel for="hotelSupplyingCompany">Supplying Company:</h:outputLabel>
		            	<p:inputText id="hotelSupplyingCompany" value="#{SearchWeb.hotelSupplyingCompany}"/>	
					 	<h:outputLabel for="hotelCity">City:</h:outputLabel>
		            	<p:inputText id="hotelCity" value="#{SearchWeb.searchCriteria.hotelCity}"/>	            	
		 			 	<h:outputLabel for="hotelStartingDate">Starting Date:</h:outputLabel>           	
		            	<p:calendar value="#{SearchWeb.hotelStartingDate}" id="hotelStartingDate" showButtonPanel="true"/>  	
					 	<h:outputLabel for="hotelEndingDate">Ending Date:</h:outputLabel>            	
		            	<p:calendar value="#{SearchWeb.hotelEndingDate}" id="hotelEndingDate" showButtonPanel="true"/> 	            							  
						</h:panelGrid>	        
			 		</p:panel>
			    </p:tab> 
			    <p:tab id="excursions" title="Excursions">
				    <p:panel header="Define search criteria">   	    
					    <h:panelGrid columns="2">  
						<h:outputLabel for="excursionSupplyingCompany">Supplying Company:</h:outputLabel>
		            	<p:inputText id="excursionSupplyingCompany" value="#{SearchWeb.excursionSupplyingCompany}"/>	
						<h:outputLabel for="excursionCity">City:</h:outputLabel>
		            	<p:inputText id="excursionCity" value="#{SearchWeb.searchCriteria.excursionCity}"/>		            	
						<h:outputLabel for="excursionDescription">Description (even only a part):</h:outputLabel>
		            	<p:inputText id="excursionDescription" value="#{SearchWeb.searchCriteria.excursionDescription}"/>	            	
					 	<h:outputLabel for="excursionDateTime">Date and Time:</h:outputLabel>            	
		            	<p:calendar value="#{SearchWeb.excursionDateTime}" id="excursionDateTime" showButtonPanel="true" pattern="MM/dd/yyyy HH:mm"/> 						            						  
						</h:panelGrid>	        
			 		</p:panel>
			    </p:tab> 			     	  				     		    	
	    	</p:tabView>    
	    	<p:commandButton value="Search" icon="ui-icon-search" actionListener="#{SearchWeb.searchTravelComponents}" update="componentsGrowl" ajax="true" styleClass="ui-priority-primary">  
	       		<p:ajax event="dialogReturn" listener="#{SearchWeb.onTravelComponentChosen}"/> 
	       	</p:commandButton>
       		<p:commandButton value="Browse All" icon="ui-icon-search" actionListener="#{SearchWeb.browseAllTravelComponents}" update="componentsGrowl" ajax="true">
		       	<p:ajax event="dialogReturn" listener="#{SearchWeb.onTravelComponentChosen}"/> 
			</p:commandButton>			        
 		</p:panel>
	    </p:tab>  	  
	</p:tabView>
</h:form>
</h:body>
</html>