<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/master.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<ui:define name="title">Predefined Travel Packages</ui:define>



<h:form> 

		<p:growl id="growl1" showDetail="true" globalOnly="true" />   
			<h:panelGrid columns="5" id="regGrid">
			<h:outputLabel value="" />  
			<h:outputLabel value="" />  
			<p:inplace id="name" editor="true" rendered="#{PredefinedTravelPackageWeb.checkIfCustomer()}">
				<p:inputText value="#{PersonalizedTravelPackageWeb.persTP.name}" />
			</p:inplace>  
			<p:message for="name" />
			<h:outputLabel value="" /> 
			<p:inplace id="Departure_date" editor="true" rendered="#{PredefinedTravelPackageWeb.checkIfCustomer()}">
				<p:calendar value="#{PersonalizedTravelPackageWeb.persTP.departureDate}" showButtonPanel="true" >
				<f:convertDateTime pattern="yyyy-MM-dd" />
				</p:calendar>
			</p:inplace> 
			<p:message for="Departure_date" /> 
			<h:outputLabel value="" />  
			<p:inplace id="Arrival_date" editor="true" rendered="#{PredefinedTravelPackageWeb.checkIfCustomer()}">
			<p:calendar value="#{PersonalizedTravelPackageWeb.persTP.returnDate}" showButtonPanel="true" >
			<f:convertDateTime pattern="yyyy-MM-dd" />
			</p:calendar>
			</p:inplace> 
			<p:message for="Arrival_date" />
		</h:panelGrid>	  
				
			<p:dataTable var="element" value="#{PredefinedTravelPackageWeb.predTP.travelComponents}" >  
	            <p:column headerText="Name">  
	                <h:outputText value="#{element.name}" />  
	            </p:column> 
	             <p:column headerText="Name">  
	                <h:outputText value="#{element.description}" />  
	            </p:column> 
				<p:column headerText="Departure Date">  
	                <h:outputText value="#{element.departureDate}" />  
	            </p:column>  
	            <p:column headerText="Return Date">  
	                <h:outputText value="#{element.returnDate}" />  
	            </p:column> 
	                              
	          	<p:column headerText="" style="text-align: center"> 
	      			<p:row> 
	      				<p:commandButton id="visualize" icon="ui-icon-script" rendered="#{PredefinedTravelPackageWeb.checkIfEmployee()}" actionListener="#{PredefinedTravelPackageWeb.showComponent(element)}"/> 
	      				<p:commandButton id="link" icon="ui-icon-tag" update="growl1" rendered="#{PredefinedTravelPackageWeb.checkIfEmployee()}" actionListener="#{PredefinedTravelPackageWeb.updateComponent(element)}"/>
	         			<p:commandButton id="delete" icon="ui-icon-copy" update="growl1" rendered="#{PredefinedTravelPackageWeb.checkIfCustomer()}"  action="#{PredefinedTravelPackageWeb.copyInPersonalizedTravelPackage(element)}"	ajax="false"/> 
	            	</p:row>
	            	<p:tooltip for="delete" value="Delete the package" showEffect="fade" hideEffect="fade" /> 
	            	<p:tooltip for="link" value="Get the package identifier" showEffect="fade" hideEffect="fade" /> 
	            	<p:tooltip for="visualize" value="View the details of the package" showEffect="fade" hideEffect="fade" />   
	         	</p:column>                  
			</p:dataTable> 
			<p:commandButton id="check" icon="ui-icon-check" update="growl1" rendered="#{PredefinedTravelPackageWeb.checkIfCustomer()}" style="float:right;" action="#{PredefinedTravelPackageWeb.save}"	ajax="false"/>
			<p:tooltip for="check" value="Save the package" showEffect="fade" hideEffect="fade" /> 
</h:form>
</ui:composition>
 