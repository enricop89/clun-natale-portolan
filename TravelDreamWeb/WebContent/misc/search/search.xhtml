<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Search form</title>  
</h:head>
<h:body>
<h:form>  
	<p:tabView id="tabView" >
	    <p:tab id="predefinedTravelPackages" title="Predefined Travel Packages">  
	    <p:growl id="packagesGrowl" showDetail="true" globalOnly="true" /> 
	    <p:panel header="Search Predefined Travel Packages">   
		    <h:panelGrid columns="2">  
			 	<h:outputLabel for="name">Name (even only a part of it):</h:outputLabel>
            	<p:inputText id="name" value="#{SearchWeb.packageName}" /> 	
            	
 			 	<h:outputLabel for="name">Departure Date:</h:outputLabel>           	
            	<p:calendar value="#{SearchWeb.departureDate}" id="departureDate" showButtonPanel="true"/>  

			 	<h:outputLabel for="name">Return Date:</h:outputLabel>            	
            	<p:calendar value="#{SearchWeb.returnDate}" id="returnDate" showButtonPanel="true"/> 
            							
			</h:panelGrid> 
			<p:commandButton value="Search" icon="ui-icon-search" action="#{SearchWeb.searchPredefinedTravelPackages}" update="packagesGrowl" ajax="true" styleClass="ui-priority-primary">  			       		
				<p:ajax event="dialogReturn" listener="#{SearchWeb.onPredefinedTravelPackageChosen}"/> 
			</p:commandButton> 	       		
	       	<p:commandButton value="Browse All" icon="ui-icon-search" action="#{SearchWeb.browseAllPredefinedTravelPackages}" update="packagesGrowl" ajax="true">
				<p:ajax event="dialogReturn" listener="#{SearchWeb.onPredefinedTravelPackageChosen}"/> 
			</p:commandButton>  
	    </p:panel>
	    </p:tab>  
	  
	    <p:tab id="Customers" title="Customers" rendered="#{facesContext.externalContext.isUserInRole('CUSTOMER')}">
	    <p:growl id="customersGrowl" showDetail="true" globalOnly="true" /> 	
	    <p:panel header="Search Customers">   	          
		    <h:panelGrid columns="2">    
			 	<h:outputLabel for="firstname">Firstname:</h:outputLabel>
            	<p:inputText id="firstname" value="#{SearchWeb.firstName}"/> 				 
			 	<h:outputLabel for="lastname">Lastame:</h:outputLabel>
            	<p:inputText id="lastname" value="#{SearchWeb.lastName}" /> 									  		       		 			       				       					       		
			</h:panelGrid>
			<p:commandButton value="Search" icon="ui-icon-search" action="#{SearchWeb.searchCustomers}" update="customersGrowl" ajax="true" styleClass="ui-priority-primary">
				<p:ajax event="dialogReturn" listener="#{SearchWeb.onCustomerChosen}"/> 
			</p:commandButton>  				 
	    </p:panel>	  
	    </p:tab>  
	  
	    <p:tab id="TravelComponents" title="Travel Components" rendered="#{facesContext.externalContext.isUserInRole('EMPLOYEE')}">
	    <p:growl id="componentsGrowl" showDetail="true" globalOnly="true" />   
	    <p:panel header="Search Travel Components">   
	    	<p:tabView id="travelComponents" >
			    <p:tab id="flights" title="Flights">
			    <p:panel header="Define search criteria">   	    
				    <h:panelGrid columns="2">  
						  
					</h:panelGrid>	        
		 		</p:panel>
			    </p:tab> 
			    <p:tab id="hotels" title="Hotels">
			    <p:panel header="Define search criteria">   	    
				    <h:panelGrid columns="2">  
						  
					</h:panelGrid>	        
		 		</p:panel>
			    </p:tab> 
			    <p:tab id="excursions" title="Excursions">
			    <p:panel header="Define search criteria">   	    
				    <h:panelGrid columns="2">  
						  
					</h:panelGrid>	        
		 		</p:panel>
			    </p:tab> 			     	  				     		    	
	    	</p:tabView>	    
		    <h:panelGrid columns="2">  
				  
			</h:panelGrid>
	    	<p:commandButton value="Search" icon="ui-icon-search" action="#{SearchWeb.searchTravelComponents}" update="componentsGrowl" ajax="true" styleClass="ui-priority-primary">  
	       		<p:ajax event="dialogReturn" listener="#{SearchWeb.onTravelComponentChosen}"/> 
	       	</p:commandButton>
       		<p:commandButton value="Browse All" icon="ui-icon-search" action="#{SearchWeb.browseAllTravelComponents}" update="componentsGrowl" ajax="true">
		       	<p:ajax event="dialogReturn" listener="#{SearchWeb.onTravelComponentChosen}"/> 
			</p:commandButton>			        
 		</p:panel>
	    </p:tab>  	  
	</p:tabView>
</h:form>
</h:body>
</html>